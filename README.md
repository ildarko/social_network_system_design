# social_network_system_design

 System Design социальной сети для курса по System Design

**Функциональные требования**
- публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия;
- оценка и комментарии постов других путешественников;
- подписка на других путешественников, чтобы следить за их активностью;
- поиск популярных мест для путешествий и просмотр постов с этих мест;  Список отсортировать по убыванию количества оценок и коментов
- просмотр ленты других путешественников и ленты пользователя, основанной на подписках в обратном хронологическом порядке;

**Аудитория приложения** 

- **Количество пользователей**
  - Рост до 10 000 000 DAU \ день в течение года , рост линейный
- **Поведение пользователей**
  - Один пользователь, в среднем, будет делать 1 пост в день.
  - Комментарии: Один пользователь, в среднем, будет делать 10 комментариев в день
  - Просмотр ленты: 3 раза в день пользователем
  - Поиск популярных мест: 3 раз в день пользователем.
- **Регионы использования приложения**
  - Только на СНГ.

**Работа с несколькими устройствами**
 - мобильные устройства и браузер.

**Особенности приложения**

- **Сезонности в приложении**
  -  Использование постоянное, всесезонное. 
- **Условия хранения данных**
  -  Храним всегда.
- **Лимиты и ограничения**
  - максимальное количество подписчиков у пользователя - неограничено.
  - 1 символ ~ 2 байта
  - Выдача коментов к посту по 10шт, максимум 256 символов на комент  
  - Выдача постов ленты по 10шт
  - Выдача результата поиска по 10шт
  - В посте максимум 1024 символа, до 16 фото по 1МБ
  - 
- **Временные ограничения**
  - Доступность поста после публикации - 1 сек
  - Оповещение подписчиков о новом посте - 1 сек
  - Оповещение пользователя о появлении оценки и комментария поста - 1сек.
  - Отправка сообщения - не более 1 сек  
  - Поиск: не более 3 сек   
- **Доступность приложения**
  - Не более, чем несколько часов простоя в год.

**Расчет нагрузки**
- Connections = dau \* 0.1 = 10 000 000 DAU * 0.1 = 1 000 000

- Посты, текст(запись): 10 000 000 DAU \ день * 1024 * 2 ~ 10 ^ 7 * 10 ^ 3 * 2 ~ 10 ^ 10 * 2 Байт\день ~ 20 ГБ\день
- Посты, фото(запись): 10 000 000 DAU \ день * 16 * 1 МБ ~ 10 ^ 7 * 16 МБ\день ~ 160 000 ГБ\день
- Посты, комменты(запись): 10 000 000 DAU \ день * 10 * 256 символов * 2 = 10 ^ 8 * 512 Б\день ~ 51.2 ГБ\день
- Трафик оценок незначителен по сравнению с фото и текстом, можно не считать
- Общий трафик в день(запись) = 20 ГБ\день + 160 000 ГБ\день + 51.2 ГБ\день ~ 160 070 ГБ\день.
  
- RPS(запись, Общий трафик) = 160 070 ГБ\день  / 86400 ~ 160 000 ГБ\день / 100 000 c ~ 1.6 ГБ\с 

- Посты, текст(чтение) : 10 000 000 DAU \ день  * 3 (раза в день) * (в пачке 10 постов) * 1024(символов) * 2Б ~  10 ^ 8 * 6000 Б\день = 0.6 ГБ\день
- Посты, фото(чтение) : 10 000 000 DAU \ день  * 3 (раза в день) * (в пачке 10 постов) * 16(шт) * 1МБ = 10 ^ 8 * 48 МБ\день = 48 * 10 ^ 5  ГБ\день 
- Посты, коменты(чтение) : 10 000 000 DAU \ день  * (в пачке 10 постов) * 256(символов) * 2Б ~  10 ^ 8 * 512 Б\день ~ 51.2 ГБ\день
- Посты, поиск(чтение)  ~ (Посты, фото(чтение))+ (Посты, текст(чтение)) ~ 48 * 10 ^ 5  ГБ\день
- Общий трафик в день(чтение) = 0.6 ГБ\день + 48 * 10 ^ 5  ГБ\день + 51.2 ГБ\день + 48 * 10 ^ 5  ГБ\день  ~ 92 * 10 ^ 5  ГБ\день

- RPS(чтение, Общий трафик) = 92 * 10 ^ 5  ГБ\день  / 86400 ~ 92 * 10 ^ 5  ГБ\день / 10^5  ~ 92 ГБ\с 
